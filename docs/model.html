<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>pvp.model API documentation</title>
<meta name="description" content="" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>pvp.model</code></h1>
</header>
<section id="section-intro">
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">from random import choices

from mesa import Model
from mesa.datacollection import DataCollector
from mesa.space import Grid
from mesa.time import RandomActivation

from .agents.block import Block
from .agents.citizen import Citizen
from .agents.cop import Cop
from .strategies import *

try:
    from playsound import playsound
except:
    pass


class ProtestersVsPolice(Model):
    &#34;&#34;&#34;
    Model 1 from &#34;Modeling civil violence: An agent-based computational
    approach,&#34; by Joshua Epstein.
    http://www.pnas.org/content/99/suppl_3/7243.full
    Attributes:
        height: grid height
        width: grid width
        citizen_density: approximate % of cells occupied by citizens.
        cop_density: approximate % of calles occupied by cops.
        citizen_vision: number of cells in each direction (N, S, E and W) that
            citizen can inspect
        cop_vision: number of cells in each direction (N, S, E and W) that cop
            can inspect
        legitimacy:  (L) citizens&#39; perception of regime legitimacy, equal
            across all citizens
        max_jail_term: (J_max)
        active_threshold: if (grievance - (risk_aversion * arrest_probability))
            &gt; threshold, citizen rebels
        arrest_prob_constant: set to ensure agents make plausible arrest
            probability estimates
        movement: binary, whether agents try to move at step end
        max_iters: model may not have a natural stopping point, so we set a
            max.

    &#34;&#34;&#34;

    def __init__(
        self,
        height=40,
        width=40,
        grid_density=0.7,
        ratio=0.074,
        environment=&#34;Random distribution&#34;,
        barricade=4,
        citizen_vision=7,
        cop_vision=7,
        legitimacy=0.8,
        max_jail_term=1000,
        jail_capacity=50,
        active_threshold=0.1,
        wrap=&#34;Wrap around&#34;,
        arrest_prob_constant=2.3,
        aggression=0.7,  # TODO
        direction_bias=&#34;none&#34;,
        movement=True,
        max_iters=1000,
        funmode=False,
    ):
        super().__init__()

        self.height = height
        self.width = width
        self.grid_density = grid_density
        self.ratio = ratio
        self.funmode = funmode
        self.citizen_vision = citizen_vision
        self.cop_vision = cop_vision
        self.legitimacy = legitimacy
        self.max_jail_term = max_jail_term
        self.jail_capacity = jail_capacity
        self.active_threshold = active_threshold
        self.arrest_prob_constant = arrest_prob_constant
        self.movement = movement
        self.jailed_agents = []
        self.arrested_agents = []
        self.jailed = 0
        self.test = 0
        self.wrap = wrap
        self.max_iters = max_iters
        self.iteration = 0
        self.aggression = self.random.random()
        self.direction_bias = direction_bias
        self.schedule = RandomActivation(self)
        self.grid = (
            Grid(height, width, torus=False)
            if self.wrap == &#34;Don&#39;t wrap around&#34;
            else Grid(height, width, torus=True)
        )
        self.environment = environment

        self.numTotalSpaces = self.height * self.width
        self.numFreeSpaces = (self.height * self.width) * self.grid_density - barricade
        self.numCitizens = self.numFreeSpaces * self.ratio
        self.numCops = self.numFreeSpaces - self.numCitizens
        self.barricade = barricade
        self.citizen, self.cop, self.block = None, None, None

        model_reporters = {
            &#34;Quiescent&#34;: lambda m: self.count_type_citizens(m, &#34;Quiescent&#34;),
            &#34;Active&#34;: lambda m: self.count_type_citizens(m, &#34;Active&#34;),
            &#34;Jailed&#34;: lambda m: self.count_jailed(m),
        }
        agent_reporters = {
            &#34;x&#34;: lambda a: a.pos[0],
            &#34;y&#34;: lambda a: a.pos[1],
            &#34;breed&#34;: lambda a: a.breed,
            &#34;jail_sentence&#34;: lambda a: getattr(a, &#34;jail_sentence&#34;, None),
            &#34;condition&#34;: lambda a: getattr(a, &#34;condition&#34;, None),
            &#34;arrest_probability&#34;: lambda a: getattr(a, &#34;arrest_probability&#34;, None),
        }
        self.datacollector = DataCollector(
            model_reporters=model_reporters, agent_reporters=agent_reporters
        )
        self.spawner()

        self.running = True
        self.datacollector.collect(self)

    def spawner(self):
        self.unique_id = 0
        if self.environment == &#34;Random distribution&#34;:
            random_strategy(self)
        elif self.environment == &#34;Block in the middle&#34;:
            middle_block(self)
        elif self.environment == &#34;Wall of cops&#34;:
            side_strategy(self, &#34;left&#34;, &#34;cop&#34;)
        elif self.environment == &#34;Street&#34;:
            streets(self)

    def step(self):
        &#34;&#34;&#34;
        Advance the model by one step and collect data.
        &#34;&#34;&#34;
        self.schedule.step()
        for i in self.arrested_agents:
            if len(self.jailed_agents) &lt; self.jail_capacity:
                self.jailed_agents.append(i)
                try:
                    self.grid._remove_agent(i.pos, i)
                    self.schedule.remove(i)
                    self.test += 1
                    self.arrested_agents.remove(i)
                except KeyError:
                    pass
        self.datacollector.collect(self)

        self.iteration += 1
        if self.iteration % 3 == 0 and self.funmode == True:
            try:
                playsound(&#34;pewpew.mp3&#34;)
            except:
                pass

        if self.iteration &gt; self.max_iters:
            self.running = False

    @staticmethod
    def count_type_citizens(model, condition, exclude_jailed=True):
        &#34;&#34;&#34;
        Helper method to count agents by Quiescent/Active.
        &#34;&#34;&#34;
        count = 0
        for agent in model.schedule.agents:
            if agent.breed == &#34;cop&#34;:
                continue
            if exclude_jailed and agent.jail_sentence:
                continue
            if agent.condition == condition:
                count += 1
        return count

    @staticmethod
    def count_jailed(model):
        &#34;&#34;&#34;
        Helper method to count jailed agents.
        &#34;&#34;&#34;
        count = 0
        for agent in model.schedule.agents:
            if agent.breed == &#34;citizen&#34; and agent.jail_sentence:
                count += 1
        return count</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="pvp.model.normal"><code class="name flex">
<span>def <span class="ident">normal</span></span>(<span>loc=0.0, scale=1.0, size=None)</span>
</code></dt>
<dd>
<div class="desc"><p>Draw random samples from a normal (Gaussian) distribution.</p>
<p>The probability density function of the normal distribution, first
derived by De Moivre and 200 years later by both Gauss and Laplace
independently [2]_, is often called the bell curve because of
its characteristic shape (see the example below).</p>
<p>The normal distributions occurs often in nature.
For example, it
describes the commonly occurring distribution of samples influenced
by a large number of tiny, random disturbances, each with its own
unique distribution [2]_.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>New code should use the <code><a title="pvp.model.normal" href="#pvp.model.normal">RandomState.normal()</a></code> method of a <code>default_rng()</code>
instance instead; please see the :ref:<code>random-quick-start</code>.</p>
</div>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>loc</code></strong> :&ensp;<code>float</code> or <code>array_like</code> of <code>floats</code></dt>
<dd>Mean ("centre") of the distribution.</dd>
<dt><strong><code>scale</code></strong> :&ensp;<code>float</code> or <code>array_like</code> of <code>floats</code></dt>
<dd>Standard deviation (spread or "width") of the distribution. Must be
non-negative.</dd>
<dt><strong><code>size</code></strong> :&ensp;<code>int</code> or <code>tuple</code> of <code>ints</code>, optional</dt>
<dd>Output shape.
If the given shape is, e.g., <code>(m, n, k)</code>, then
<code>m * n * k</code> samples are drawn.
If size is <code>None</code> (default),
a single value is returned if <code>loc</code> and <code>scale</code> are both scalars.
Otherwise, <code>np.broadcast(loc, scale).size</code> samples are drawn.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><strong><code>out</code></strong> :&ensp;<code>ndarray</code> or <code>scalar</code></dt>
<dd>Drawn samples from the parameterized normal distribution.</dd>
</dl>
<h2 id="see-also">See Also</h2>
<dl>
<dt><code>scipy.stats.norm</code></dt>
<dd>probability density function, distribution or cumulative density function, etc.</dd>
<dt><code>Generator.normal</code></dt>
<dd>which should be used for new code.</dd>
</dl>
<h2 id="notes">Notes</h2>
<p>The probability density for the Gaussian distribution is</p>
<p>[ e^{ - \frac{ (x - \mu)^2 } {2 \sigma^2} }, ]
where :math:<code>\mu</code> is the mean and :math:<code>\sigma</code> the standard
deviation. The square of the standard deviation, :math:<code>\sigma^2</code>,
is called the variance.</p>
<p>The function has its peak at the mean, and its "spread" increases with
the standard deviation (the function reaches 0.607 times its maximum at
:math:<code>x + \sigma</code> and :math:<code>x - \sigma</code> [2]_).
This implies that
normal is more likely to return samples lying close to the mean, rather
than those far away.</p>
<h2 id="references">References</h2>
<p>.. [1] Wikipedia, "Normal distribution",
<a href="https://en.wikipedia.org/wiki/Normal_distribution">https://en.wikipedia.org/wiki/Normal_distribution</a>
.. [2] P. R. Peebles Jr., "Central Limit Theorem" in "Probability,
Random Variables and Random Signal Principles", 4th ed., 2001,
pp. 51, 51, 125.</p>
<h2 id="examples">Examples</h2>
<p>Draw samples from the distribution:</p>
<pre><code class="language-python-repl">&gt;&gt;&gt; mu, sigma = 0, 0.1 # mean and standard deviation
&gt;&gt;&gt; s = np.random.normal(mu, sigma, 1000)
</code></pre>
<p>Verify the mean and the variance:</p>
<pre><code class="language-python-repl">&gt;&gt;&gt; abs(mu - np.mean(s))
0.0  # may vary
</code></pre>
<pre><code class="language-python-repl">&gt;&gt;&gt; abs(sigma - np.std(s, ddof=1))
0.1  # may vary
</code></pre>
<p>Display the histogram of the samples, along with
the probability density function:</p>
<pre><code class="language-python-repl">&gt;&gt;&gt; import matplotlib.pyplot as plt
&gt;&gt;&gt; count, bins, ignored = plt.hist(s, 30, density=True)
&gt;&gt;&gt; plt.plot(bins, 1/(sigma * np.sqrt(2 * np.pi)) *
...                np.exp( - (bins - mu)**2 / (2 * sigma**2) ),
...          linewidth=2, color='r')
&gt;&gt;&gt; plt.show()
</code></pre>
<p>Two-by-four array of samples from N(3, 6.25):</p>
<pre><code class="language-python-repl">&gt;&gt;&gt; np.random.normal(3, 2.5, size=(2, 4))
array([[-4.49401501,  4.00950034, -1.81814867,  7.29718677],   # random
       [ 0.39924804,  4.68456316,  4.99394529,  4.84057254]])  # random
</code></pre></div>
</dd>
</dl>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="pvp.model.ProtestersVsPolice"><code class="flex name class">
<span>class <span class="ident">ProtestersVsPolice</span></span>
<span>(</span><span>height=40, width=40, grid_density=0.7, ratio=0.074, environment='Random distribution', barricade=4, citizen_vision=7, cop_vision=7, legitimacy=0.8, max_jail_term=1000, jail_capacity=50, active_threshold=0.1, wrap='Wrap around', arrest_prob_constant=2.3, aggression=0.7, direction_bias='none', movement=True, max_iters=1000, funmode=False)</span>
</code></dt>
<dd>
<div class="desc"><p>Model 1 from "Modeling civil violence: An agent-based computational
approach," by Joshua Epstein.
<a href="http://www.pnas.org/content/99/suppl_3/7243.full">http://www.pnas.org/content/99/suppl_3/7243.full</a></p>
<h2 id="attributes">Attributes</h2>
<dl>
<dt><strong><code>height</code></strong></dt>
<dd>grid height</dd>
<dt><strong><code>width</code></strong></dt>
<dd>grid width</dd>
<dt><strong><code>citizen_density</code></strong></dt>
<dd>approximate % of cells occupied by citizens.</dd>
<dt><strong><code>cop_density</code></strong></dt>
<dd>approximate % of calles occupied by cops.</dd>
<dt><strong><code>citizen_vision</code></strong></dt>
<dd>number of cells in each direction (N, S, E and W) that
citizen can inspect</dd>
<dt><strong><code>cop_vision</code></strong></dt>
<dd>number of cells in each direction (N, S, E and W) that cop
can inspect</dd>
<dt><strong><code>legitimacy</code></strong></dt>
<dd>(L) citizens' perception of regime legitimacy, equal
across all citizens</dd>
<dt><strong><code>max_jail_term</code></strong></dt>
<dd>(J_max)</dd>
<dt><strong><code>active_threshold</code></strong></dt>
<dd>if (grievance - (risk_aversion * arrest_probability))<blockquote>
<p>threshold, citizen rebels</p>
</blockquote>
</dd>
<dt><strong><code>arrest_prob_constant</code></strong></dt>
<dd>set to ensure agents make plausible arrest
probability estimates</dd>
<dt><strong><code>movement</code></strong></dt>
<dd>binary, whether agents try to move at step end</dd>
<dt><strong><code>max_iters</code></strong></dt>
<dd>model may not have a natural stopping point, so we set a
max.</dd>
</dl>
<p>Create a new model. Overload this method with the actual code to
start the model.</p>
<h2 id="attributes_1">Attributes</h2>
<dl>
<dt><strong><code>schedule</code></strong></dt>
<dd>schedule object</dd>
<dt><strong><code>running</code></strong></dt>
<dd>a bool indicating if the model should continue running</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class ProtestersVsPolice(Model):
    &#34;&#34;&#34;
    Model 1 from &#34;Modeling civil violence: An agent-based computational
    approach,&#34; by Joshua Epstein.
    http://www.pnas.org/content/99/suppl_3/7243.full
    Attributes:
        height: grid height
        width: grid width
        citizen_density: approximate % of cells occupied by citizens.
        cop_density: approximate % of calles occupied by cops.
        citizen_vision: number of cells in each direction (N, S, E and W) that
            citizen can inspect
        cop_vision: number of cells in each direction (N, S, E and W) that cop
            can inspect
        legitimacy:  (L) citizens&#39; perception of regime legitimacy, equal
            across all citizens
        max_jail_term: (J_max)
        active_threshold: if (grievance - (risk_aversion * arrest_probability))
            &gt; threshold, citizen rebels
        arrest_prob_constant: set to ensure agents make plausible arrest
            probability estimates
        movement: binary, whether agents try to move at step end
        max_iters: model may not have a natural stopping point, so we set a
            max.

    &#34;&#34;&#34;

    def __init__(
        self,
        height=40,
        width=40,
        grid_density=0.7,
        ratio=0.074,
        environment=&#34;Random distribution&#34;,
        barricade=4,
        citizen_vision=7,
        cop_vision=7,
        legitimacy=0.8,
        max_jail_term=1000,
        jail_capacity=50,
        active_threshold=0.1,
        wrap=&#34;Wrap around&#34;,
        arrest_prob_constant=2.3,
        aggression=0.7,  # TODO
        direction_bias=&#34;none&#34;,
        movement=True,
        max_iters=1000,
        funmode=False,
    ):
        super().__init__()

        self.height = height
        self.width = width
        self.grid_density = grid_density
        self.ratio = ratio
        self.funmode = funmode
        self.citizen_vision = citizen_vision
        self.cop_vision = cop_vision
        self.legitimacy = legitimacy
        self.max_jail_term = max_jail_term
        self.jail_capacity = jail_capacity
        self.active_threshold = active_threshold
        self.arrest_prob_constant = arrest_prob_constant
        self.movement = movement
        self.jailed_agents = []
        self.arrested_agents = []
        self.jailed = 0
        self.test = 0
        self.wrap = wrap
        self.max_iters = max_iters
        self.iteration = 0
        self.aggression = self.random.random()
        self.direction_bias = direction_bias
        self.schedule = RandomActivation(self)
        self.grid = (
            Grid(height, width, torus=False)
            if self.wrap == &#34;Don&#39;t wrap around&#34;
            else Grid(height, width, torus=True)
        )
        self.environment = environment

        self.numTotalSpaces = self.height * self.width
        self.numFreeSpaces = (self.height * self.width) * self.grid_density - barricade
        self.numCitizens = self.numFreeSpaces * self.ratio
        self.numCops = self.numFreeSpaces - self.numCitizens
        self.barricade = barricade
        self.citizen, self.cop, self.block = None, None, None

        model_reporters = {
            &#34;Quiescent&#34;: lambda m: self.count_type_citizens(m, &#34;Quiescent&#34;),
            &#34;Active&#34;: lambda m: self.count_type_citizens(m, &#34;Active&#34;),
            &#34;Jailed&#34;: lambda m: self.count_jailed(m),
        }
        agent_reporters = {
            &#34;x&#34;: lambda a: a.pos[0],
            &#34;y&#34;: lambda a: a.pos[1],
            &#34;breed&#34;: lambda a: a.breed,
            &#34;jail_sentence&#34;: lambda a: getattr(a, &#34;jail_sentence&#34;, None),
            &#34;condition&#34;: lambda a: getattr(a, &#34;condition&#34;, None),
            &#34;arrest_probability&#34;: lambda a: getattr(a, &#34;arrest_probability&#34;, None),
        }
        self.datacollector = DataCollector(
            model_reporters=model_reporters, agent_reporters=agent_reporters
        )
        self.spawner()

        self.running = True
        self.datacollector.collect(self)

    def spawner(self):
        self.unique_id = 0
        if self.environment == &#34;Random distribution&#34;:
            random_strategy(self)
        elif self.environment == &#34;Block in the middle&#34;:
            middle_block(self)
        elif self.environment == &#34;Wall of cops&#34;:
            side_strategy(self, &#34;left&#34;, &#34;cop&#34;)
        elif self.environment == &#34;Street&#34;:
            streets(self)

    def step(self):
        &#34;&#34;&#34;
        Advance the model by one step and collect data.
        &#34;&#34;&#34;
        self.schedule.step()
        for i in self.arrested_agents:
            if len(self.jailed_agents) &lt; self.jail_capacity:
                self.jailed_agents.append(i)
                try:
                    self.grid._remove_agent(i.pos, i)
                    self.schedule.remove(i)
                    self.test += 1
                    self.arrested_agents.remove(i)
                except KeyError:
                    pass
        self.datacollector.collect(self)

        self.iteration += 1
        if self.iteration % 3 == 0 and self.funmode == True:
            try:
                playsound(&#34;pewpew.mp3&#34;)
            except:
                pass

        if self.iteration &gt; self.max_iters:
            self.running = False

    @staticmethod
    def count_type_citizens(model, condition, exclude_jailed=True):
        &#34;&#34;&#34;
        Helper method to count agents by Quiescent/Active.
        &#34;&#34;&#34;
        count = 0
        for agent in model.schedule.agents:
            if agent.breed == &#34;cop&#34;:
                continue
            if exclude_jailed and agent.jail_sentence:
                continue
            if agent.condition == condition:
                count += 1
        return count

    @staticmethod
    def count_jailed(model):
        &#34;&#34;&#34;
        Helper method to count jailed agents.
        &#34;&#34;&#34;
        count = 0
        for agent in model.schedule.agents:
            if agent.breed == &#34;citizen&#34; and agent.jail_sentence:
                count += 1
        return count</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>mesa.model.Model</li>
</ul>
<h3>Static methods</h3>
<dl>
<dt id="pvp.model.ProtestersVsPolice.count_jailed"><code class="name flex">
<span>def <span class="ident">count_jailed</span></span>(<span>model)</span>
</code></dt>
<dd>
<div class="desc"><p>Helper method to count jailed agents.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@staticmethod
def count_jailed(model):
    &#34;&#34;&#34;
    Helper method to count jailed agents.
    &#34;&#34;&#34;
    count = 0
    for agent in model.schedule.agents:
        if agent.breed == &#34;citizen&#34; and agent.jail_sentence:
            count += 1
    return count</code></pre>
</details>
</dd>
<dt id="pvp.model.ProtestersVsPolice.count_type_citizens"><code class="name flex">
<span>def <span class="ident">count_type_citizens</span></span>(<span>model, condition, exclude_jailed=True)</span>
</code></dt>
<dd>
<div class="desc"><p>Helper method to count agents by Quiescent/Active.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@staticmethod
def count_type_citizens(model, condition, exclude_jailed=True):
    &#34;&#34;&#34;
    Helper method to count agents by Quiescent/Active.
    &#34;&#34;&#34;
    count = 0
    for agent in model.schedule.agents:
        if agent.breed == &#34;cop&#34;:
            continue
        if exclude_jailed and agent.jail_sentence:
            continue
        if agent.condition == condition:
            count += 1
    return count</code></pre>
</details>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="pvp.model.ProtestersVsPolice.spawner"><code class="name flex">
<span>def <span class="ident">spawner</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def spawner(self):
    self.unique_id = 0
    if self.environment == &#34;Random distribution&#34;:
        random_strategy(self)
    elif self.environment == &#34;Block in the middle&#34;:
        middle_block(self)
    elif self.environment == &#34;Wall of cops&#34;:
        side_strategy(self, &#34;left&#34;, &#34;cop&#34;)
    elif self.environment == &#34;Street&#34;:
        streets(self)</code></pre>
</details>
</dd>
<dt id="pvp.model.ProtestersVsPolice.step"><code class="name flex">
<span>def <span class="ident">step</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Advance the model by one step and collect data.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def step(self):
    &#34;&#34;&#34;
    Advance the model by one step and collect data.
    &#34;&#34;&#34;
    self.schedule.step()
    for i in self.arrested_agents:
        if len(self.jailed_agents) &lt; self.jail_capacity:
            self.jailed_agents.append(i)
            try:
                self.grid._remove_agent(i.pos, i)
                self.schedule.remove(i)
                self.test += 1
                self.arrested_agents.remove(i)
            except KeyError:
                pass
    self.datacollector.collect(self)

    self.iteration += 1
    if self.iteration % 3 == 0 and self.funmode == True:
        try:
            playsound(&#34;pewpew.mp3&#34;)
        except:
            pass

    if self.iteration &gt; self.max_iters:
        self.running = False</code></pre>
</details>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="pvp" href="index.html">pvp</a></code></li>
</ul>
</li>
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="">
<li><code><a title="pvp.model.normal" href="#pvp.model.normal">normal</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="pvp.model.ProtestersVsPolice" href="#pvp.model.ProtestersVsPolice">ProtestersVsPolice</a></code></h4>
<ul class="">
<li><code><a title="pvp.model.ProtestersVsPolice.count_jailed" href="#pvp.model.ProtestersVsPolice.count_jailed">count_jailed</a></code></li>
<li><code><a title="pvp.model.ProtestersVsPolice.count_type_citizens" href="#pvp.model.ProtestersVsPolice.count_type_citizens">count_type_citizens</a></code></li>
<li><code><a title="pvp.model.ProtestersVsPolice.spawner" href="#pvp.model.ProtestersVsPolice.spawner">spawner</a></code></li>
<li><code><a title="pvp.model.ProtestersVsPolice.step" href="#pvp.model.ProtestersVsPolice.step">step</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>